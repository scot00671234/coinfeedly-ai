nitializing deployment
Clonning Repo github.com/scot00671234/AIForecast-Hub.git to /etc/dokploy/applications/aiforecast-hub-app-vehhbf/code: ‚úÖ
Cloning into '/etc/dokploy/applications/aiforecast-hub-app-vehhbf/code'...
remote: Enumerating objects: 286, done.
Cloned github.com/scot00671234/AIForecast-Hub.git: ‚úÖ
Build nixpacks: ‚úÖ
Source Type: github: ‚úÖ
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Nixpacks v1.39.0 ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë setup      ‚îÇ nodejs_18, npm-9_x, openssl                   ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë caddy      ‚îÇ pkgs: caddy                                   ‚ïë
‚ïë            ‚îÇ cmds: caddy fmt --overwrite /assets/Caddyfile ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë install    ‚îÇ npm ci                                        ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë build      ‚îÇ chmod +x ultimate-deployment-fix.sh           ‚ïë
‚ïë            ‚îÇ ./ultimate-deployment-fix.sh                  ‚ïë
‚ïë‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïë
‚ïë start      ‚îÇ node dist/index.js                            ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
#0 building with "default" instance using docker driver
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.83kB done
#1 DONE 0.0s
#2 [internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1745885067
#2 DONE 0.3s
#3 [internal] load .dockerignore
#3 transferring context: 784B done
#3 DONE 0.0s
#4 [stage-0  1/16] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1745885067@sha256:d45c89d80e13d7ad0fd555b5130f22a866d9dd10e861f589932303ef2314c7de
#4 DONE 0.0s
#5 [internal] load build context
#5 transferring context: 11.61MB 0.1s done
#5 DONE 0.2s
#6 [stage-0  6/16] RUN nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d
#6 CACHED
#7 [stage-0  4/16] RUN nix-env -if .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix && nix-collect-garbage -d
#7 CACHED
#8 [stage-0  2/16] WORKDIR /app/
#8 CACHED
#9 [stage-0  3/16] COPY .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix
#9 CACHED
#10 [stage-0  5/16] COPY .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix
#10 CACHED
#11 [stage-0  7/16] COPY .nixpacks/assets /assets/
#11 CACHED
#12 [stage-0  8/16] COPY . /app/.
#12 DONE 0.1s
#13 [stage-0  9/16] RUN  caddy fmt --overwrite /assets/Caddyfile
#13 DONE 0.3s
#14 [stage-0 10/16] COPY . /app/.
#14 DONE 0.2s
#15 [stage-0 11/16] RUN --mount=type=cache,id=R0LQyWebXx4-/root/npm,target=/root/.npm npm ci
#15 0.346 npm warn config production Use `--omit=dev` instead.
#15 5.272 npm warn deprecated @esbuild-kit/esm-loader@2.6.5: Merged into tsx: https://tsx.is
#15 5.565 npm warn deprecated @esbuild-kit/core-utils@3.3.2: Merged into tsx: https://tsx.is
#15 6.320 npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
#15 13.74
#15 13.74 added 521 packages, and audited 522 packages in 13s
#15 13.74
#15 13.74 66 packages are looking for funding
#15 13.74   run `npm fund` for details
#15 13.78
#15 13.78 10 vulnerabilities (3 low, 7 moderate)
#15 13.78
#15 13.78 To address issues that do not require attention, run:
#15 13.78   npm audit fix
#15 13.78
#15 13.78 To address all issues (including breaking changes), run:
#15 13.78   npm audit fix --force
#15 13.78
#15 13.78 Run `npm audit` for details.
#15 DONE 14.2s
#16 [stage-0 12/16] COPY . /app/.
#16 DONE 0.2s
#17 [stage-0 13/16] RUN --mount=type=cache,id=R0LQyWebXx4-node_modules/cache,target=/app/node_modules/.cache chmod +x ultimate-deployment-fix.sh
#17 DONE 0.2s
#18 [stage-0 14/16] RUN --mount=type=cache,id=R0LQyWebXx4-node_modules/cache,target=/app/node_modules/.cache ./ultimate-deployment-fix.sh
#18 0.216 üöÄ ULTIMATE DEPLOYMENT FIX - Nuclear cache clearing approach
#18 0.220 üìÖ Deployment timestamp: Fri Aug 22 20:03:24 UTC 2025
#18 0.221 üí£ NUCLEAR CLEANUP - Destroying all build artifacts...
#18 0.231 rm: cannot remove 'node_modules/.cache/': Device or resource busy
#18 ERROR: process "/bin/bash -ol pipefail -c ./ultimate-deployment-fix.sh" did not complete successfully: exit code: 1
------
> [stage-0 14/16] RUN --mount=type=cache,id=R0LQyWebXx4-node_modules/cache,target=/app/node_modules/.cache ./ultimate-deployment-fix.sh:
0.216 üöÄ ULTIMATE DEPLOYMENT FIX - Nuclear cache clearing approach
0.220 üìÖ Deployment timestamp: Fri Aug 22 20:03:24 UTC 2025
0.221 üí£ NUCLEAR CLEANUP - Destroying all build artifacts...
0.231 rm: cannot remove 'node_modules/.cache/': Device or resource busy
------
9 warnings found (use docker --debug to expand):
 - UndefinedVar: Usage of undefined variable '$NIXPACKS_PATH' (line 24)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "OPENAI_API_KEY") (line 13)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "ANTHROPIC_API_KEY") (line 14)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "DEEPSEEK_API_KEY") (line 14)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "ANTHROPIC_API_KEY") (line 13)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "DEEPSEEK_API_KEY") (line 13)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "SESSION_SECRET") (line 13)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "OPENAI_API_KEY") (line 14)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "SESSION_SECRET") (line 14)
Dockerfile:31
--------------------
|     COPY . /app/.
|     RUN --mount=type=cache,id=R0LQyWebXx4-node_modules/cache,target=/app/node_modules/.cache chmod +x ultimate-deployment-fix.sh
| >>> RUN --mount=type=cache,id=R0LQyWebXx4-node_modules/cache,target=/app/node_modules/.cache ./ultimate-deployment-fix.sh
|
|
--------------------
ERROR: failed to build: failed to solve: process "/bin/bash -ol pipefail -c ./ultimate-deployment-fix.sh" did not complete successfully: exit code: 1
Error: Docker build failed
Error response from daemon: No such container: aiforecast-hub-app-vehhbf-B76VwX6IA2
Error ‚ùå
Error response from daemon: No such container: aiforecast-hub-app-vehhbf-B76VwX6IA2