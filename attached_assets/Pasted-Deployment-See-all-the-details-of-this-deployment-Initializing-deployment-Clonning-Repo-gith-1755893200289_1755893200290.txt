Deployment
See all the details of this deployment | 

Initializing deployment
Clonning Repo github.com/scot00671234/AIForecast-Hub.git to /etc/dokploy/applications/aiforecast-hub-app-vehhbf/code: ✅
Cloning into '/etc/dokploy/applications/aiforecast-hub-app-vehhbf/code'...
remote: Enumerating objects: 287, done.
Cloned github.com/scot00671234/AIForecast-Hub.git: ✅
Build nixpacks: ✅
Source Type: github: ✅
╔═════════════════════ Nixpacks v1.39.0 ═════════════════════╗
║ setup      │ nodejs_18, npm-9_x, openssl                   ║
║────────────────────────────────────────────────────────────║
║ caddy      │ pkgs: caddy                                   ║
║            │ cmds: caddy fmt --overwrite /assets/Caddyfile ║
║────────────────────────────────────────────────────────────║
║ install    │ npm ci                                        ║
║────────────────────────────────────────────────────────────║
║ build      │ chmod +x ultimate-deployment-fix.sh           ║
║            │ ./ultimate-deployment-fix.sh                  ║
║────────────────────────────────────────────────────────────║
║ start      │ node dist/index.js                            ║
╚════════════════════════════════════════════════════════════╝
#0 building with "default" instance using docker driver
#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 1.83kB done
#1 DONE 0.0s
#2 [internal] load metadata for ghcr.io/railwayapp/nixpacks:ubuntu-1745885067
#2 DONE 0.3s
#3 [internal] load .dockerignore
#3 transferring context: 784B done
#3 DONE 0.0s
#4 [stage-0  1/16] FROM ghcr.io/railwayapp/nixpacks:ubuntu-1745885067@sha256:d45c89d80e13d7ad0fd555b5130f22a866d9dd10e861f589932303ef2314c7de
#4 DONE 0.0s
#5 [internal] load build context
#5 transferring context: 11.64MB 0.2s done
#5 DONE 0.2s
#6 [stage-0  3/16] COPY .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix
#6 CACHED
#7 [stage-0  4/16] RUN nix-env -if .nixpacks/nixpkgs-ba913eda2df8eb72147259189d55932012df6301.nix && nix-collect-garbage -d
#7 CACHED
#8 [stage-0  5/16] COPY .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix
#8 CACHED
#9 [stage-0  6/16] RUN nix-env -if .nixpacks/nixpkgs-ffeebf0acf3ae8b29f8c7049cd911b9636efd7e7.nix && nix-collect-garbage -d
#9 CACHED
#10 [stage-0  2/16] WORKDIR /app/
#10 CACHED
#11 [stage-0  7/16] COPY .nixpacks/assets /assets/
#11 CACHED
#12 [stage-0  8/16] COPY . /app/.
#12 DONE 0.1s
#13 [stage-0  9/16] RUN  caddy fmt --overwrite /assets/Caddyfile
#13 DONE 0.3s
#14 [stage-0 10/16] COPY . /app/.
#14 DONE 0.2s
#15 [stage-0 11/16] RUN --mount=type=cache,id=R0LQyWebXx4-/root/npm,target=/root/.npm npm ci
#15 0.365 npm warn config production Use `--omit=dev` instead.
#15 6.473 npm warn deprecated @esbuild-kit/esm-loader@2.6.5: Merged into tsx: https://tsx.is
#15 6.685 npm warn deprecated @esbuild-kit/core-utils@3.3.2: Merged into tsx: https://tsx.is
#15 7.476 npm warn deprecated node-domexception@1.0.0: Use your platform's native DOMException instead
#15 15.12
#15 15.12 added 521 packages, and audited 522 packages in 15s
#15 15.12
#15 15.12 66 packages are looking for funding
#15 15.12   run `npm fund` for details
#15 15.17
#15 15.17 10 vulnerabilities (3 low, 7 moderate)
#15 15.17
#15 15.17 To address issues that do not require attention, run:
#15 15.17   npm audit fix
#15 15.17
#15 15.17 To address all issues (including breaking changes), run:
#15 15.17   npm audit fix --force
#15 15.17
#15 15.17 Run `npm audit` for details.
#15 DONE 15.6s
#16 [stage-0 12/16] COPY . /app/.
#16 DONE 0.2s
#17 [stage-0 13/16] RUN --mount=type=cache,id=R0LQyWebXx4-node_modules/cache,target=/app/node_modules/.cache chmod +x ultimate-deployment-fix.sh
#17 DONE 0.2s
#18 [stage-0 14/16] RUN --mount=type=cache,id=R0LQyWebXx4-node_modules/cache,target=/app/node_modules/.cache ./ultimate-deployment-fix.sh
#18 0.245 🚀 ULTIMATE DEPLOYMENT FIX - Docker-compatible approach
#18 0.248 📅 Deployment timestamp: Fri Aug 22 20:05:15 UTC 2025
#18 0.249 🧹 Cleaning build artifacts...
#18 0.266 🔢 Unique build ID: 20250822_200515_1
#18 0.267 📦 Using existing dependencies...
#18 0.267 🌍 Environment: NODE_ENV=production
#18 0.267 🏗️ Building frontend with unique identifiers...
#18 0.536 vite v5.4.19 building for production...
#18 0.623 transforming...
#18 1.429 Browserslist: browsers data (caniuse-lite) is 10 months old. Please run:
#18 1.429   npx update-browserslist-db@latest
#18 1.429   Why you should do it regularly: https://github.com/browserslist/update-db#readme
#18 10.50 ✓ 2081 modules transformed.
#18 11.14 rendering chunks...
#18 11.15 computing gzip size...
#18 11.18 ../dist/public/index.html                   2.49 kB │ gzip:   1.00 kB
#18 11.18 ../dist/public/assets/index-Rf80_Hl1.css   84.35 kB │ gzip:  14.11 kB
#18 11.18 ../dist/public/assets/index-DJi662fA.js   710.49 kB │ gzip: 214.29 kB
#18 11.18 
#18 11.18 (!) Some chunks are larger than 500 kB after minification. Consider:
#18 11.18 - Using dynamic import() to code-split the application
#18 11.18 - Use build.rollupOptions.output.manualChunks to improve chunking: https://rollupjs.org/configuration-options/#output-manualchunks
#18 11.18 - Adjust chunk size limit for this warning via build.chunkSizeWarningLimit.
#18 11.18 ✓ built in 10.62s
#18 11.27 ✅ Frontend build: 2 assets created
#18 11.27 📋 Copying frontend files to server/public...
#18 11.28 🔍 Final verification...
#18 11.28 total 36
#18 11.28 drwxr-xr-x 3 root root 4096 Aug 22 20:05 .
#18 11.28 drwxr-xr-x 1 root root 4096 Aug 22 20:05 ..
#18 11.28 drwxr-xr-x 2 root root 4096 Aug 22 20:05 assets
#18 11.28 -rw-r--r-- 1 root root   18 Aug 22 20:05 build-id.txt
#18 11.28 -rw-r--r-- 1 root root   29 Aug 22 20:05 deployment-time.txt
#18 11.28 -rw-r--r-- 1 root root   20 Aug 22 20:05 environment.txt
#18 11.28 -rw-r--r-- 1 root root  195 Aug 22 20:05 favicon.svg
#18 11.28 -rw-r--r-- 1 root root 2488 Aug 22 20:05 index.html
#18 11.28 📝 Build ID file: 20250822_200515_1
#18 11.28 📅 Deployment time: Fri Aug 22 20:05:26 UTC 2025
#18 11.28 🏗️ Building backend...
#18 11.32
#18 11.32   dist/index.js  167.2kb
#18 11.32
#18 11.32 ⚡ Done in 29ms
#18 11.32 ✅ ULTIMATE DEPLOYMENT FIX COMPLETE
#18 11.32 🎯 Build ID: 20250822_200515_1
#18 11.32 🌐 Verification URL: https://your-domain.com/build-id.txt
#18 11.32 📋 Your production server WILL serve fresh frontend files now
#18 DONE 11.4s
#19 [stage-0 15/16] RUN printf '\nPATH=/app/node_modules/.bin:$PATH' >> /root/.profile
#19 DONE 0.2s
#20 [stage-0 16/16] COPY . /app
#20 DONE 0.2s
#21 exporting to image
#21 exporting layers
#21 exporting layers 4.6s done
#21 writing image sha256:371e2dfe40bb276294023834f5095b3f7e4d2d135016eb2c8636844e010e5a5c done
#21 naming to docker.io/library/aiforecast-hub-app-vehhbf done
#21 DONE 4.6s
9 warnings found (use docker --debug to expand):
 - SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "OPENAI_API_KEY") (line 13)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "SESSION_SECRET") (line 13)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "ANTHROPIC_API_KEY") (line 14)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "SESSION_SECRET") (line 14)
- UndefinedVar: Usage of undefined variable '$NIXPACKS_PATH' (line 24)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "DEEPSEEK_API_KEY") (line 13)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "DEEPSEEK_API_KEY") (line 14)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ENV "OPENAI_API_KEY") (line 14)
- SecretsUsedInArgOrEnv: Do not use ARG or ENV instructions for sensitive data (ARG "ANTHROPIC_API_KEY") (line 13)
=== Successfully Built! ===
Run:
docker run -it aiforecast-hub-app-vehhbf
Docker Deployed: ✅